	max select all
		for obj in selection do
		(
			--获得当前材质编译器中的材质
			myMaterial = obj.Material -- medit.GetCurMtl()
			--获得当前材质存在的子材质数
			numberOfSubMats = myMaterial.numsubs

			for i = 1 to numberOfSubMats do
			(
				try
				(
                                        --获取子材质名不带后缀
					bitmapName = getFilenameFile myMaterial[i].diffusemap.filename
					myMaterial[i].name = bitmapName
					--去掉材质名后缀
					--print myMaterial[i].name
					myMaterial.names[i] =bitmapName
					--print myMaterial.names[i]
				)
				catch 
				(
					print ("can no name:" + myMaterial[i].name)
				)
			)
		)
max select none